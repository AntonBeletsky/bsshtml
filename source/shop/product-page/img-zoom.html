<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
<!-- -----------------------CSS----------------------- -->
<!--  icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Boostrap icons  -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

<!-- Fotorama Gallery -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css" rel="stylesheet">



<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Material UI icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Material Symbols Outlined -->
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=grid_view" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>boostrap-lux-shop-master</title>
    <link rel="stylesheet" href="../../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed&amp;display=swap">
    <link rel="stylesheet" href="../../../assets/css/articles-badges-images.css">
    <link rel="stylesheet" href="../../../assets/css/basket.css">
    <link rel="stylesheet" href="../../../assets/css/body.css">
    <link rel="stylesheet" href="../../../assets/css/bootstrap-extension.css">
    <link rel="stylesheet" href="../../../assets/css/catalog-page.css">
    <link rel="stylesheet" href="../../../assets/css/checkout.css">
    <link rel="stylesheet" href="../../../assets/css/compare-page.css">
    <link rel="stylesheet" href="../../../assets/css/customer-account.css">
    <link rel="stylesheet" href="../../../assets/css/dialog.css">
    <link rel="stylesheet" href="../../../assets/css/featured-Itemn.css">
    <link rel="stylesheet" href="../../../assets/css/fotorama.css">
    <link rel="stylesheet" href="../../../assets/css/header-navbar-black.css">
    <link rel="stylesheet" href="../../../assets/css/header.css">
    <link rel="stylesheet" href="../../../assets/css/home-page.css">
    <link rel="stylesheet" href="../../../assets/css/img.css">
    <link rel="stylesheet" href="../../../assets/css/index-page.css">
    <link rel="stylesheet" href="../../../assets/css/main.css">
    <link rel="stylesheet" href="../../../assets/css/order-item.css">
    <link rel="stylesheet" href="../../../assets/css/popover-content.css">
    <link rel="stylesheet" href="../../../assets/css/product-card-grid.css">
    <link rel="stylesheet" href="../../../assets/css/product-card-list.css">
    <link rel="stylesheet" href="../../../assets/css/product-page.css">
    <link rel="stylesheet" href="../../../assets/css/products-carousel.css">
    <link rel="stylesheet" href="../../../assets/css/scroll-normalizer-master.css">
    <link rel="stylesheet" href="../../../assets/css/shadow-box.css">
    <link rel="stylesheet" href="../../../assets/css/shopping-cart.css">
    <link rel="stylesheet" href="../../../assets/css/slider-price.css">
    <link rel="stylesheet" href="../../../assets/css/stars-rating.css">
    <link rel="stylesheet" href="../../../assets/css/tech-shadow-box.css">
    <link rel="stylesheet" href="../../../assets/css/timeline.css">
    <link rel="stylesheet" href="../../../assets/css/ui-collapsible-panel.css">
    <link rel="stylesheet" href="../../../assets/css/ui-icons-circle.css">
    <link rel="stylesheet" href="../../../assets/css/wishlist.css">
</head>

<body><style>
/* Base Container */
.pro-zoom-container {
    position: relative;
    overflow: hidden;
    cursor: crosshair;
    display: inline-block;
    line-height: 0;
    border: 1px solid #eee;
}

/* Internal Mode Lens (Existing) */
.pro-zoom-lens-internal {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-repeat: no-repeat;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
    z-index: 20;
}

/* External Mode Lens (The "Selector" Box) */
.pro-zoom-selector {
    position: absolute;
    border: 1px solid #ccc;
    background: rgba(255, 255, 255, 0.4);
    pointer-events: none;
    display: none;
    z-index: 10;
}

/* External Results Window (The Amazon Panel) */
.pro-zoom-external-window {
    position: absolute;
    overflow: hidden;
    background-color: #fff;
    background-repeat: no-repeat;
    border: 1px solid #ddd;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    display: none;
    z-index: 1000;
}

.pro-zoom-container.active .pro-zoom-lens-internal,
.pro-zoom-container.active .pro-zoom-selector {
    display: block;
    opacity: 1;
}

/* Loading Spinner */
.pro-zoom-loader {
    position: absolute;
    top: 50%; left: 50%;
    width: 30px; height: 30px;
    border: 3px solid rgba(0,0,0,0.1);
    border-left-color: #3b82f6;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    transform: translate(-50%, -50%);
    opacity: 0;
    z-index: 5;
}

.pro-zoom-container.loading .pro-zoom-loader { opacity: 1; }
@keyframes spin { 100% { transform: translate(-50%, -50%) rotate(360deg); } }
</style>


<body style="padding: 50px; background: #fafafa; display: flex; gap: 100px;">

    <div>
        <h3>Internal Mode</h3>
        <img class="zoom-internal" width="400" 
             src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=600" 
             data-highres="https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=2000">
    </div>

    <div>
        <h3>External Mode (Amazon Style)</h3>
        <img class="zoom-external" width="400"
             src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=600" 
             data-highres="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=2000">
    </div>

<script>
/*  src="ProZoom.js" */
    /**
 * ProZoom Engine v3.0
 * Modes: 'internal' (Lens inside image) or 'external' (Amazon-style side window).
 */
class ProZoom {
    #config = {};
    
    constructor(selector, options = {}) {
        this.#config = {
            scale: options.scale || 2.5,
            zoomMode: options.zoomMode || 'internal', // 'internal' or 'external'
            externalTarget: options.externalTarget || null, // Optional selector for result window
            windowSize: options.windowSize || [400, 400], // [width, height] for external window
            ...options
        };

        if (this.#isTouchDevice()) return;

        const nodes = document.querySelectorAll(Array.isArray(selector) ? selector.join(',') : selector);
        nodes.forEach(node => this.#initInstance(node));
    }

    #initInstance(imgElement) {
        const wrapper = document.createElement('div');
        wrapper.classList.add('pro-zoom-container');
        imgElement.parentNode.insertBefore(wrapper, imgElement);
        wrapper.appendChild(imgElement);

        const loader = document.createElement('div');
        loader.classList.add('pro-zoom-loader');
        wrapper.appendChild(loader);

        let lens, externalWindow, selectorBox;

        if (this.#config.zoomMode === 'internal') {
            lens = document.createElement('div');
            lens.classList.add('pro-zoom-lens-internal');
            wrapper.appendChild(lens);
        } else {
            // External Mode Setup
            selectorBox = document.createElement('div');
            selectorBox.classList.add('pro-zoom-selector');
            wrapper.appendChild(selectorBox);

            externalWindow = document.createElement('div');
            externalWindow.classList.add('pro-zoom-external-window');
            externalWindow.style.width = `${this.#config.windowSize[0]}px`;
            externalWindow.style.height = `${this.#config.windowSize[1]}px`;
            
            // If no target provided, append next to the image
            if (this.#config.externalTarget) {
                document.querySelector(this.#config.externalTarget).appendChild(externalWindow);
            } else {
                document.body.appendChild(externalWindow);
            }
        }

        const state = {
            wrapper, img: imgElement, lens, externalWindow, selectorBox,
            highResUrl: imgElement.dataset.highres || imgElement.src,
            isLoaded: false, rect: null, isActive: false, rafId: null,
            mouseX: 0, mouseY: 0
        };

        this.#attachEvents(state);
    }

    #attachEvents(state) {
        state.wrapper.addEventListener('mouseenter', () => {
            state.isActive = true;
            state.rect = state.wrapper.getBoundingClientRect();
            
            if (this.#config.zoomMode === 'external') {
                this.#updateSelectorSize(state);
                this.#positionExternalWindow(state);
            }

            if (!state.isLoaded) this.#loadHighRes(state);
            else {
                state.wrapper.classList.add('active');
                if (state.externalWindow) state.externalWindow.style.display = 'block';
            }
            this.#startRenderLoop(state);
        });

        state.wrapper.addEventListener('mousemove', (e) => {
            state.mouseX = e.clientX;
            state.mouseY = e.clientY;
        });

        state.wrapper.addEventListener('mouseleave', () => {
            state.isActive = false;
            state.wrapper.classList.remove('active');
            if (state.externalWindow) state.externalWindow.style.display = 'none';
            cancelAnimationFrame(state.rafId);
        });
    }

    #updateSelectorSize(state) {
        // Selector size is proportional to the scale
        const sW = state.rect.width / this.#config.scale;
        const sH = state.rect.height / this.#config.scale;
        state.selectorBox.style.width = `${sW}px`;
        state.selectorBox.style.height = `${sH}px`;
        state.selectorWidth = sW;
        state.selectorHeight = sH;
    }

    #positionExternalWindow(state) {
        if (this.#config.externalTarget) return; // Managed by user's layout
        // Default position: to the right of the image
        state.externalWindow.style.left = `${state.rect.right + 20}px`;
        state.externalWindow.style.top = `${state.rect.top}px`;
    }

    #loadHighRes(state) {
        state.wrapper.classList.add('loading');
        const hdImg = new Image();
        hdImg.src = state.highResUrl;
        hdImg.onload = () => {
            state.isLoaded = true;
            state.wrapper.classList.remove('loading');
            const bgImg = `url('${state.highResUrl}')`;
            const bgSize = `${state.rect.width * this.#config.scale}px ${state.rect.height * this.#config.scale}px`;

            if (this.#config.zoomMode === 'internal') {
                state.lens.style.backgroundImage = bgImg;
                state.lens.style.backgroundSize = bgSize;
            } else {
                state.externalWindow.style.backgroundImage = bgImg;
                state.externalWindow.style.backgroundSize = bgSize;
            }

            if (state.isActive) {
                state.wrapper.classList.add('active');
                if (state.externalWindow) state.externalWindow.style.display = 'block';
            }
        };
    }

    #startRenderLoop(state) {
        const render = () => {
            if (!state.isActive) return;

            const x = state.mouseX - state.rect.left;
            const y = state.mouseY - state.rect.top;

            // Clamp positions
            let xPerc = Math.max(0, Math.min(100, (x / state.rect.width) * 100));
            let yPerc = Math.max(0, Math.min(100, (y / state.rect.height) * 100));

            if (this.#config.zoomMode === 'internal') {
                state.lens.style.backgroundPosition = `${xPerc}% ${yPerc}%`;
            } else {
                // Move selector box
                let selX = x - state.selectorWidth / 2;
                let selY = y - state.selectorHeight / 2;

                // Boundary checks for selector
                selX = Math.max(0, Math.min(selX, state.rect.width - state.selectorWidth));
                selY = Math.max(0, Math.min(selY, state.rect.height - state.selectorHeight));

                state.selectorBox.style.left = `${selX}px`;
                state.selectorBox.style.top = `${selY}px`;

                // Calculate BG position for external window
                const bgXPerc = (selX / (state.rect.width - state.selectorWidth)) * 100;
                const bgYPerc = (selY / (state.rect.height - state.selectorHeight)) * 100;
                state.externalWindow.style.backgroundPosition = `${bgXPerc}% ${bgYPerc}%`;
            }

            state.rafId = requestAnimationFrame(render);
        };
        state.rafId = requestAnimationFrame(render);
    }

    #isTouchDevice() { return (('ontouchstart' in window) || (navigator.maxTouchPoints > 0)); }
}
</script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Internal Mode
            new ProZoom('.zoom-internal', { 
                zoomMode: 'internal', 
                scale: 2 
            });

            // External Mode (Amazon Style)
            new ProZoom('.zoom-external', { 
                zoomMode: 'external', 
                scale: 3, 
                windowSize: [500, 500] 
            });
        });
    </script>

    <script src="../../../assets/js/jquery.min.js"></script>
    <script src="../../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../../assets/js/bs-init.js"></script>
    <script src="../../../assets/js/add-theme-changer-button.js"></script>
    <script src="../../../assets/js/catalog-page.js"></script>
    <script src="../../../assets/js/checkout.js"></script>
    <script src="../../../assets/js/home-page-carusel.js"></script>
    <script src="../../../assets/js/import/fotorama.js"></script>
    <script src="../../../assets/js/main-header.js"></script>
    <script src="../../../assets/js/product-page-sticky-nav-version.js"></script>
    <script src="../../../assets/js/products-carousel.js"></script>
    <script src="../../../assets/js/shopping-cart.js"></script>
    <script src="../../../assets/js/slider-price.js"></script>
    <script src="../../../assets/js/theme-changer-navbar.js"></script>
</body>

</html>